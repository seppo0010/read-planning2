(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},18685:function(){},20067:function(){},55382:function(){},72095:function(){},72061:function(){},61219:function(){},90333:function(e,n,t){Promise.resolve().then(t.bind(t,88066))},88066:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var s=t(57437),l=t(29039),a=t(53180),o=t(2265);let c="Due date",r="Length",i="Read at",u="Carded at",d=new Date,m="Para leer",f="Le\xeddo",x="Tarjeteado",h="date",b=e=>fetch(e).then(e=>e.json());function p(){let{data:e,error:n}=(0,l.ZP)("https://sheets.googleapis.com/v4/spreadsheets/".concat(encodeURI("1S6KMZCx4slqZm0yLF8cKqVmyFQjsO8hfZLebbz2wAsM"),"/values/").concat(encodeURI("Pending"),"?key=").concat(encodeURIComponent("AIzaSyA6LYbb-Xlq0lkeCLMb88sSWFVE9beq1Z0")),b),[t,p]=(0,o.useState)(null),[j,g]=(0,o.useState)(null),[N,y]=(0,o.useState)(null),[_,v]=(0,o.useState)(null),[L,S]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e)return;let n=e.values,t=new a.DataFrame(n.slice(1).map(e=>e.slice(0,6)),{columns:n[0].slice(0,6),config:{tableMaxColInConsole:7,tableMaxRow:10}}).asType(r,"int32");v(t),p(t.loc({columns:[c,r]}).groupby([c]).sum().rename({[r+"_sum"]:m,[c]:h}).dropNa()),g(t.loc({columns:[i,r]}).groupby([i]).sum().rename({[r+"_sum"]:f,[i]:h}).dropNa()),y(t.loc({columns:[u,r]}).groupby([u]).sum().rename({[r+"_sum"]:x,[u]:h}).dropNa())},[e,n]),(0,o.useEffect)(()=>{if(!t||!j||!N)return;let e=a.concat({dfList:[t,j,N],axis:0}).sortValues(h).fillNa(0).groupby([h]).max().rename({["".concat(m,"_max")]:m,["".concat(f,"_max")]:f,["".concat(x,"_max")]:x}).setIndex({column:h,drop:!0}).cumSum({axis:0}),n=new a.Series(e.index.map(e=>new Date(e)>d),{columns:["isFuture"]});a.concat({dfList:[e,n,new a.Series(e.index,{columns:[h]})],axis:1}).setIndex({column:h,drop:!0}).apply(e=>{let[n,t,s,l]=e;return l?[n,null,null,l]:[n,t,s,l]}).plot("plot_div").line({config:{columns:[m,f,x]},layout:{title:"Progreso",xaxis:{title:"Fecha"},yaxis:{title:"P\xe1ginas"}}})},[t,j]),(0,o.useEffect)(()=>{_&&S(a.toJSON(_.query(_[i].isNa().and(_[c].apply(e=>new Date(e).getTime()).lt(d.getTime()+6048e5)))))},[_]),(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:[(0,s.jsx)("h1",{children:"Lectura"}),n&&(0,s.jsx)("div",{children:"Failed to load"}),!e&&(0,s.jsx)("div",{children:"Loading"}),(0,s.jsx)("div",{id:"plot_div"}),L&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Pr\xf3ximos textos"}),(0,s.jsx)("div",{children:(0,s.jsxs)("table",{className:"border-collapse border border-slate-400",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border border-slate-300 text-left",children:"Nombre"}),(0,s.jsx)("th",{className:"border border-slate-300 text-left",children:"Longitud"})]})}),(0,s.jsx)("tbody",{children:L.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border border-slate-300",children:e.Name}),(0,s.jsxs)("td",{className:"border border-slate-300",children:[e.Length," p\xe1ginas"]})]},e.Name))})]})})]})]})}}},function(e){e.O(0,[801,575,281,0,425,399,566,636,938,712,971,23,744],function(){return e(e.s=90333)}),_N_E=e.O()}]);