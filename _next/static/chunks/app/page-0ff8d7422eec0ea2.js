(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},18685:function(){},20067:function(){},55382:function(){},72095:function(){},72061:function(){},61219:function(){},90333:function(e,t,n){Promise.resolve().then(n.bind(n,88066))},88066:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var l=n(57437),s=n(29039),a=n(53180),o=n(2265);let c="Due date",r="Length",u="Read at",i="Carded at",d=new Date,m="Para leer",x="Le\xeddo",f="Tarjeteado",h="date",p="Subject",b=e=>fetch(e).then(e=>e.json());function j(){let{data:e,error:t}=(0,s.ZP)("https://sheets.googleapis.com/v4/spreadsheets/".concat(encodeURI("1S6KMZCx4slqZm0yLF8cKqVmyFQjsO8hfZLebbz2wAsM"),"/values/").concat(encodeURI("Pending"),"?key=").concat(encodeURIComponent("AIzaSyA6LYbb-Xlq0lkeCLMb88sSWFVE9beq1Z0")),b),[n,j]=(0,o.useState)(null),[g,N]=(0,o.useState)(null),[v,y]=(0,o.useState)(null),[S,_]=(0,o.useState)(null),[L,w]=(0,o.useState)(null),[C,E]=(0,o.useState)(null),[q,F]=(0,o.useState)(null),[I,P]=(0,o.useState)(null),[k,T]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e||!e.values||k)return;let t=e.values,n=new a.DataFrame(t.slice(1).map(e=>e.concat(["","","","","",""]).slice(0,6)),{columns:t[0].slice(0,6),config:{tableMaxColInConsole:7,tableMaxRow:10}}).asType(r,"int32");E(a.toJSON(n.column(p).unique())[0]),T(n)},[e,k,q]),(0,o.useEffect)(()=>{k&&P(null===q?k:k.query(k.column(p).apply(e=>e===q)))},[k,q]),(0,o.useEffect)(()=>{I&&(_(I),j(I.loc({columns:[c,r]}).groupby([c]).sum().rename({[r+"_sum"]:m,[c]:h}).dropNa()),N(I.loc({columns:[u,r]}).groupby([u]).sum().rename({[r+"_sum"]:x,[u]:h}).dropNa()),y(I.loc({columns:[i,r]}).groupby([i]).sum().rename({[r+"_sum"]:f,[i]:h}).dropNa()))},[I,t]),(0,o.useEffect)(()=>{if(!n||!g||!v)return;let e=a.concat({dfList:[n,g,v],axis:0}).sortValues(h).fillNa(0).groupby([h]).max().rename({["".concat(m,"_max")]:m,["".concat(x,"_max")]:x,["".concat(f,"_max")]:f}).setIndex({column:h,drop:!0}).cumSum({axis:0}),t=new a.Series(e.index.map(e=>new Date(e)>d),{columns:["isFuture"]});a.concat({dfList:[e,t,new a.Series(e.index,{columns:[h]})],axis:1}).setIndex({column:h,drop:!0}).apply(e=>{let[t,n,l,s]=e;return s?[t,null,null,s]:[t,n,l,s]}).plot("plot_div").line({config:{columns:[m,x,f]},layout:{title:"Progreso",xaxis:{title:"Fecha"},yaxis:{title:"P\xe1ginas"}}})},[n,g]),(0,o.useEffect)(()=>{S&&w(a.toJSON(S.query(S[u].apply(e=>""===e).and(S[c].apply(e=>new Date(e).getTime()).lt(d.getTime()+6048e5)))))},[S]),(0,l.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:[(0,l.jsx)("h1",{children:"Lectura"}),null!==C&&(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:null!=q?q:"",onChange:e=>F(""!==e.target.value?e.target.value:null),children:[(0,l.jsx)("option",{value:"",children:"Todas las materias"}),C.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})}),t&&(0,l.jsx)("div",{children:"Failed to load"}),!e&&(0,l.jsx)("div",{children:"Loading"}),(0,l.jsx)("div",{id:"plot_div"}),L&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Pr\xf3ximos textos"}),(0,l.jsx)("div",{children:(0,l.jsxs)("table",{className:"border-collapse border border-slate-400",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border border-slate-300 text-left",children:"Nombre"}),(0,l.jsx)("th",{className:"border border-slate-300 text-left",children:"Longitud"})]})}),(0,l.jsx)("tbody",{children:L.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-slate-300",children:e.Name}),(0,l.jsxs)("td",{className:"border border-slate-300",children:[e.Length," p\xe1ginas"]})]},e.Name))}),(0,l.jsx)("tfoot",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border border-slate-300 text-left",children:"Total"}),(0,l.jsxs)("th",{className:"border border-slate-300",children:[L.map(e=>e.Length).reduce((e,t)=>e+t,0)," p\xe1ginas"]})]})})]})})]})]})}}},function(e){e.O(0,[801,575,281,0,425,399,566,636,938,712,971,23,744],function(){return e(e.s=90333)}),_N_E=e.O()}]);